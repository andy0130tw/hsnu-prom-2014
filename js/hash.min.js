/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
//Polyfill for $.browser.msie
//Add this when using jQ 1.9+
$.browser=$.browser||{msie:/msie/.test(navigator.userAgent.toLowerCase())};
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);

/*!
 * routie - a tiny hash router
 * v0.3.2
 * http://projects.jga.me/routie
 * copyright Greg Allen 2013
 * MIT License
*/
!function(n){var t=[],r={},e="routie",o=n[e],i=[],a=[null,null],f=!1,u=function(n,t){this.name=t,this.path=n,this.keys=[],this.fns=[],this.params={},this.regex=s(this.path,this.keys,!1,!1)};u.prototype.addHandler=function(n){this.fns.push(n)},u.prototype.removeHandler=function(n){for(var t=0,r=this.fns.length;r>t;t++){var e=this.fns[t];if(n==e)return void this.fns.splice(t,1)}},u.prototype.run=function(n){for(var t=0,r=this.fns.length;r>t;t++)this.fns[t].apply(this,n)},u.prototype.match=function(n,t){var r=this.regex.exec(n);if(!r)return!1;for(var e=1,o=r.length;o>e;++e){var i=this.keys[e-1],a="string"==typeof r[e]?decodeURIComponent(r[e]):r[e];i&&(this.params[i.name]=a),t.push(a)}return!0},u.prototype.toURL=function(n){var t=this.path;for(var r in n)t=t.replace("/:"+r,"/"+n[r]);if(t=t.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=t.indexOf(":"))throw new Error("missing parameters for url: "+t);return t};var s=function(n,t,r,e){return n instanceof RegExp?n:(n instanceof Array&&(n="("+n.join("|")+")"),n=n.concat(e?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(n,r,e,o,i,a){return t.push({name:o,optional:!!a}),r=r||"",""+(a?"":r)+"(?:"+(a?r:"")+(e||"")+(i||e&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+n+"$",r?"":"i"))},h=function(n,e){var o=n.split(" "),i=2==o.length?o[0]:null;n=2==o.length?o[1]:o[0],r[n]||(r[n]=new u(n,i),t.push(r[n])),r[n].addHandler(e)},l=function(n,t){if("function"==typeof t)h(n,t),l.reload();else if("object"==typeof n){for(var r in n)h(r,n[r]);l.reload()}else"undefined"==typeof t&&l.navigate(n)};l.lookup=function(n,r){for(var e=0,o=t.length;o>e;e++){var i=t[e];if(i.name==n)return i.toURL(r)}},l.remove=function(n,t){var e=r[n];e&&e.removeHandler(t)},l.removeAll=function(){r={},t=[]},l.navigate=function(n,t){t=t||{};var r=t.silent||!1;r&&y(),setTimeout(function(){window.location.hash=n,r&&setTimeout(function(){m()},1)},1)},l.before=function(n){i.push(n)},l.removeBefore=function(n){for(var t=0,r=i.length;r>t;t++)if(n==i[t])return void i.splice(t,1)},l.previous=function(){return a[0]},l.find=function(n){if(void 0===n&&(n=c()),null===n)return null;for(var r=0,e=t.length;e>r;r++)if(t[r].match(n,[]))return t[r];return null},l.findAll=function(n){var r=[];if(void 0===n&&(n=c()),null===n)return r;for(var e=0,o=t.length;o>e;e++)t[e].match(n,[])&&r.push(t[e]);return r},u.prototype.is=function(n){if(!n instanceof u)return!1;var t=this.fns,r=n.fns,e=t.length,o=r.length;if(!e||!o||e!=o)return!1;for(var i=0,a=t.length;a>i;i++)if(t[i]!==r[i])return!1;return!0},l.noConflict=function(){return n[e]=o,l};var c=function(){return window.location.hash.substring(1)},p=function(n,t){var r=[];return t.match(n,r)?(t.run(r),!0):!1},v=l.reload=function(){var n=c();if(d(n))for(var r=0,e=t.length;e>r;r++){var o=t[r];if(p(n,o))return}},g=function(){var n=c();a[1]!=n&&(a.push(n),a.shift())},d=function(){for(var n=0,t=i.length;t>n;n++){var r=i[n](a[0],a[1]);if(void 0!==r&&!r)return!1}return!0},m=function(){$(n).on("hashchange",v),f||($(n).on("hashchange",g),f=!0)},y=function(){$(n).off("hashchange",v)};m(),n[e]=l}(window);